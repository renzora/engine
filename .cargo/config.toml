# Cargo aliases for production builds (static linking, separate target dir)
[alias]
release-editor = "build --release --no-default-features --features editor --target-dir app"
release-editor-solari = "build --release --no-default-features --features editor,solari --target-dir app"
release-runtime = "build --release --no-default-features --features runtime --bin renzora_runtime --target-dir app"

# Static link the MSVC runtime (eliminates VCRUNTIME140.dll dependency)
[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-feature=+crt-static"]

# DLSS SDK include path for bindgen (only used when building with --features solari)
# Update this path if your DLSS SDK is installed elsewhere
[env]
BINDGEN_EXTRA_CLANG_ARGS = "-IC:\\DLSS_SDK\\include"

# Note: rust-lld doesn't work with Bevy dynamic linking on Windows nightly
# linker = "rust-lld.exe"

# Faster linking for Linux (uses lld via clang)
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=lld"]
